<script type="text/ng-template" id="/watched.html">
    <div class="row home">
        <div class="col-md-12">

            <!-- Most popular -->

            <div class="page-header">
                 <h1>
                     <span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span>
                    Watched movies
                 </h1>
            </div>

            <div class="watched-info">All the movies you ever watched! Click on a column title to order by that column.</div>

            <div class="table-responsive">
                <table class="table watched-movies">
                <thead>
                    <tr>
                        <th>
                            <a href="" ng-click="vm.orderBy='title'; vm.reverseSort = !vm.reverseSort">Title
                            <span ng-show="vm.orderBy == 'title'">
                                <span class="glyphicon glyphicon-menu-down" ng-show="vm.reverseSort"></span>
                                <span class="glyphicon glyphicon-menu-up" ng-hide="vm.reverseSort"></span>
                            </span>
                            </a>
                        </th>
                        <th>
                            <a href="" ng-click="vm.orderBy='releaseDate'; vm.reverseSort = !vm.reverseSort">Year
                            <span ng-show="vm.orderBy == 'releaseDate'">
                                <span class="glyphicon glyphicon-menu-down" ng-show="vm.reverseSort"></span>
                                <span class="glyphicon glyphicon-menu-up" ng-hide="vm.reverseSort"></span>
                            </span>
                            </a>
                        </th>
                        <th>
                            <a href="" ng-click="vm.orderBy='watchedOn'; vm.reverseSort = !vm.reverseSort">Watched on
                            <span ng-show="vm.orderBy == 'watchedOn'">
                                <span class="glyphicon glyphicon-menu-down" ng-show="vm.reverseSort"></span>
                                <span class="glyphicon glyphicon-menu-up" ng-hide="vm.reverseSort"></span>
                            </span>
                            </a>
                        </th>
                        <th>
                            <a href="" ng-click="vm.orderBy='rating'; vm.reverseSort = !vm.reverseSort">Rating
                            <span ng-show="vm.orderBy == 'rating'">
                                <span class="glyphicon glyphicon-menu-down" ng-show="vm.reverseSort"></span>
                                <span class="glyphicon glyphicon-menu-up" ng-hide="vm.reverseSort"></span>
                            </span>
                            </a>
                        </th>
                        <th>
                            Note
                        </th>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="watched in vm.watched | orderBy: vm.orderBy: vm.reverseSort">
                        <td class="watched-important watched-title">{{watched.title | limitTo: 40}}</td>
                        <td>{{watched.releaseDate | date:'yyyy'}}</td>
                        <td>{{watched.watchedOn | date:'dd MMMM yyyy'}}</td>
                        <td class="watched-important"><span class="watched-rating">{{watched.rating}}</span> <small>/10</small></td>
                        <td>{{watched.note | limitTo: 45}}</td>
                        <td><a href="/#/movie/{{watched.movieId}}">More info</a></td>
                        <td><a href="" ng-click="vm.removeFromWatched(watched._id)">Delete</a></td>
                    </tr>
                </tbody>
                </table>
            </div>

            <div class="row">
                <div class="col-md-4" ng-repeat="movie in vm.movies">
                    <movie-card></movie-card>
                </div>
            </div>
        </div>
    </div>

</script>
